<!DOCTYPE html>
<html lang="en" >
    <head>
        <meta charset="utf-8">
        <title>SVG Maps</title>
        <meta name="description" content="An advanced editor for creating and customizing SVG-based terrain maps with powerful tools and features.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Strapatsen">
        <meta name="copyright" content="Strapatsen (C) 2024. MIT License.">
        <meta name="keywords" content="SVG, Maps, Terrain, Editor, Customization, Graphics, Design">

        <!-- Search Machines -->
        <meta name="robots" content="no-index, no-follow, noarchive, nosnippet, noimageindex, noodp, noydir">
        <meta name="googlebot" content="no-index, no-follow, noarchive, nosnippet, noimageindex, noodp, noydir">
        <meta name="google" content="translate">
        
        <!-- Web Application -->
        <meta name="application-name" content="SVG Maps">
        <meta name="apple-mobile-web-app-title" content="SVG Maps">
        <meta name="theme-color" content="#000000">
        <meta name="msapplication-TileColor" content="#000000">
        <meta name="msapplication-TileImage" content="/assets/img/icons/icon-144x144.png">
        <meta name="msapplication-config" content="/assets/browserconfig.xml">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link rel="apple-touch-icon" href="/assets/img/icons/icon-192x192.png">
        <link rel="icon" type="image/png" sizes="192x192" href="/assets/img/icons/icon-192x192.png">
        <link rel="icon" type="image/png" sizes="512x512" href="/assets/img/icons/icon-512x512.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/icons/icon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/icons/icon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/assets/img/icons/icon-96x96.png">
        <link rel="manifest" href="manifest.json">
        
        <!-- CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
        <link rel="stylesheet" href="/assets/css/app.css">
        <link rel="stylesheet" href="/assets/css/theme.css">

        <!-- JS -->
        <script src="assets/js/TerrainEditorApp.js"></script>
        <script src="assets/js/ElementManager.js"></script>
        <script src="assets/js/EventManager.js"></script>
        <script src="assets/js/Layer.js"></script>
        <script src="assets/js/LayerManager.js"></script>
        <script src="assets/js/MenuSystem.js"></script>
        <script src="assets/js/PluginManager.js"></script>
        <script src="assets/js/ProjectManager.js"></script>
        <script src="assets/js/TerrainElement.js"></script>
        <script src="assets/js/ToolManager.js"></script>
        <script src="assets/js/Tools.js"></script>
        <script src="assets/js/ViewportManager.js"></script>
        
    </head>
    <body>
        <div class="editor-container">

            <div class="menubar">
                <svg class="menu-icon" width="20" height="20" viewBox="0 0 48 48" style="position:relative;top:6px;">
                    <g id="Group_1" data-name="Group 1" transform="translate(-130 -80)">
                        <rect id="Rectangle_1" data-name="Rectangle 1" width="48" height="48" rx="3" transform="translate(130 80)" fill="#bcff00" />
                        <path id="Icon_material-outline-landscape" data-name="Icon material-outline-landscape" d="M19.567,0,13.215,8.474,15.1,10.987l4.47-5.975,7.526,10.039H14.359L8.323,6.969,0,18.062H33.113ZM6.021,15.051,8.308,12,10.6,15.051Z" transform="translate(172.062 87.444) rotate(90)" fill="#112b74" />
                        <path id="Icon_material-outline-landscape-2" data-name="Icon material-outline-landscape" d="M19.567,18.062,13.215,9.588,15.1,7.074l4.47,5.975L27.092,3.01H14.359L8.323,11.093,0,0H33.113ZM6.021,3.01,8.308,6.066,10.6,3.01Z" transform="translate(154 87.444) rotate(90)" fill="#112b74" />
                    </g>
                </svg>
        
                <!-- File menu -->
                <div class="menu">
                    <button class="menu-title">File</button>
                    <div class="menu-items">
                        <div class="menu-item" data-shortcut="Ctrl+N">
                            <i class="fas fa-file"></i> New
                            <span class="shortcut">Ctrl+N</span>
                        </div>
                        <div class="menu-item" data-shortcut="Ctrl+S">
                            <i class="fas fa-save"></i> Save
                            <span class="shortcut">Ctrl+S</span>
                        </div>
                        <div class="menu-item" data-shortcut="Ctrl+O">
                            <i class="fas fa-folder-open"></i> Open
                            <span class="shortcut">Ctrl+O</span>
                        </div>
                        <div class="menu-divider"></div>
                        <div class="menu-item has-submenu">
                            <i class="fas fa-file-export"></i> Export
                            <i class="submenu-icon fas fa-chevron-right"></i>
                            <div class="submenu">
                                <div class="menu-item" data-shortcut="Ctrl+E+P">
                                    <i class="fas fa-file-image"></i> PNG
                                    <span class="shortcut">Ctrl+E+P</span>
                                </div>
                                <div class="menu-item" data-shortcut="Ctrl+E+S">
                                    <i class="fas fa-file-code"></i> SVG
                                    <span class="shortcut">Ctrl+E+S</span>
                                </div>
                            </div>
                        </div>
                        <div class="menu-item">
                            <i class="fas fa-print"></i> Print
                            <span class="shortcut">Ctrl+P</span>
                        </div>
                    </div>
                </div>
        
                <!-- Edit menu -->
                <div class="menu">
                    <button class="menu-title">Edit</button>
                    <div class="menu-items">
                        <div class="menu-item" data-shortcut="Ctrl+Z">
                            <i class="fas fa-undo"></i> Undo
                            <span class="shortcut">Ctrl+Z</span>
                        </div>
                        <div class="menu-item" data-shortcut="Ctrl+Y">
                            <i class="fas fa-redo"></i> Redo
                            <span class="shortcut">Ctrl+Y</span>
                        </div>
                        <div class="menu-divider"></div>
                        <div class="menu-item checkbox checked">
                            <i class="fas fa-th"></i> Show Grid
                        </div>
                        <div class="menu-item checkbox">
                            <i class="fas fa-ruler"></i> Ruler
                        </div>
                    </div>
                </div>
        
                <!-- View menu -->
                <div class="menu">
                    <button class="menu-title">View</button>
                    <div class="menu-items">
                        <div class="menu-item" data-shortcut="Ctrl+P">
                            <i class="fas fa-file"></i> Sidebar
                            <span class="shortcut">Ctrl+P</span>
                        </div>
                        <div class="menu-divider"></div>
                        <div class="menu-item has-submenu">
                            <i class="fas fa-sliders-h"></i> Zoom
                            <i class="submenu-icon fas fa-chevron-right"></i>
                            <div class="submenu">
                                <div class="menu-item" data-shortcut="Ctrl++">
                                    <i class="fas fa-search-plus"></i> Zoom In
                                    <span class="shortcut">Ctrl++</span>
                                </div>
                                <div class="menu-item" data-shortcut="Ctrl+-">
                                    <i class="fas fa-search-minus"></i> Zoom Out
                                    <span class="shortcut">Ctrl+-</span>
                                </div>
                                <div class="menu-item" data-shortcut="Ctrl+0">
                                    <i class="fas fa-eye"></i> Reset Zoom
                                    <span class="shortcut">Ctrl+0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
                <!-- Tools menu -->
                <div class="menu">
                    <button class="menu-title">Tools</button>
                    <div class="menu-items">
                        <div class="menu-item" data-shortcut="Ctrl+Q">
                            <i class="fas fa-file"></i> Gallery
                            <span class="shortcut">Ctrl+Q</span>
                        </div>
                        <div class="menu-item radio checked">
                            <i class="fas fa-mouse-pointer"></i> Select Tool
                            <span class="shortcut">V</span>
                        </div>
                        <div class="menu-item radio">
                            <i class="fas fa-pencil-alt"></i> Pen Tool
                            <span class="shortcut">P</span>
                        </div>
                        <div class="menu-divider"></div>
                        <div class="menu-item has-submenu">
                            <i class="fas fa-shapes"></i> Shapes
                            <i class="submenu-icon fas fa-chevron-right"></i>
                            <div class="submenu">
                                <div class="menu-item">
                                    <i class="fas fa-square"></i> Rectangle
                                    <span class="shortcut">R</span>
                                </div>
                                <div class="menu-item">
                                    <i class="fas fa-circle"></i> Circle
                                    <span class="shortcut">C</span>
                                </div>
                                <div class="menu-item">
                                    <i class="fas fa-draw-polygon"></i> Polygon
                                    <span class="shortcut">G</span>
                                </div>
                            </div>
                        </div>
                        <div class="menu-item">
                            <i class="fas fa-font"></i> Text Tool
                            <span class="shortcut">T</span>
                        </div>
                    </div>
                </div>
        
                <!-- Help menu -->
                <div class="menu">
                    <button class="menu-title">Help</button>
                    <div class="menu-items">
                        <div class="menu-item" data-shortcut="">
                            <i class="fa-solid fa-book"></i> Documentation
                            <span class="shortcut"></span>
                        </div>
                        <div class="menu-item" data-shortcut="">
                            <i class="fas fa-earth"></i> Website
                            <span class="shortcut"></span>
                        </div>
                        <div class="menu-divider"></div>
                        <div class="menu-item" data-shortcut="">
                            <i class="fas fa-copyright"></i> Copyright
                            <span class="shortcut"></span>
                        </div>
                        <div class="menu-item" data-shortcut="">
                            <i class="fas fa-info-circle"></i> About
                            <span class="shortcut"></span>
                        </div>
                    </div>
                </div>
            </div>
        
            <div class="toolbar">
                <div class="tool-section">
                    <button id="undo" title="Undo"><i class="fas fa-undo"></i></button>
                    <button id="redo" title="Redo"><i class="fas fa-redo"></i></button>
                </div>
                <div class="tool-section">
                    <button id="new-project" title="New map"><i class="fa-solid fa-file"></i></button>
                    <button id="save-project" title="Save map"><i class="fas fa-save"></i></button>
                    <button id="load-project" title="Load map"><i class="fas fa-folder-open"></i></button>
                </div>
                <div class="tool-section">
                    <button id="print" title="Print"><i class="fas fa-print"></i></button>
                    <button id="export-png" title="Export as PNG"><i class="fas fa-file-image"></i></button>
                    <button id="export-svg" title="Export as SVG"><i class="fa-solid fa-file-code"></i></button>
                    <button id="share-link" title="Share (private link)"><i class="fa-solid fa-share"></i></button>
                </div>
                <div class="tool-section">
                    <button id="zoom-in" title="Zoom in"><i class="fas fa-search-plus"></i></button>
                    <button id="zoom-out" title="Zoom out"><i class="fas fa-search-minus"></i></button>
                    <button id="zoom-reset" title="Reset zoom"><i class="fa-solid fa-eye"></i></button>
                    <button id="zoom-fit" title="Fit to screen"><i class="fas fa-expand"></i></button>
                </div>
                <div class="tool-section">
                    <button id="toggle-grid" title="Toggle grid"><i class="fas fa-th"></i></button>
                    <button id="measure-toggle" title="Measure distance"><i class="fas fa-ruler"></i></button>
                </div>
                <div class="tool-section">
                    <button class="tool-btn active" data-tool="select" title="Select"><i class="fas fa-mouse-pointer"></i></button>
        
                    <button id="add-library-item" title="Add Item from Library"><i class="fa-solid fa-box-archive"></i></button>
                    <button class="tool-btn" id="lock-item" title="Lock/unlock item"><i class="fa-solid fa-unlock"></i></button>
        
                    <button class="tool-btn" data-tool="line" title="Line"><i class="fas fa-slash"></i></button>
                    <button class="tool-btn" data-tool="rect" title="Rectangle"><i class="fas fa-square"></i></button>
                    <button class="tool-btn" data-tool="circle" title="Circle"><i class="fas fa-circle"></i></button>
                    <button class="tool-btn" data-tool="polygon" title="Polygon"><i class="fas fa-draw-polygon"></i></button>
                    <button class="tool-btn" data-tool="text" title="Text"><i class="fas fa-font"></i></button>
                </div>
            </div>
        
            <div class="editor-area">
        
                <div class="canvas-container" id="canvas-container">
                    <svg id="main-canvas"></svg>
                    <canvas id="temp-canvas"></canvas>
                </div>
                <!-- width="1883.42" height="1003.49" -->
                <div class="legend-panel" id="legend-panel">
        
                    <div class="legend-header">
                        <button id="close-legend" class="close-legend-btn" title="Close legend"><i class="fa-solid fa-angles-right"></i></button>
                        <h3>Sidebar</h3>
        
                    </div>
        
                    <div class="legend-tabs">
                        <button class="tab-btn" data-tab="properties">Properties</button>
                        <button class="tab-btn" data-tab="layers">Layers</button>
                        <button class="tab-btn" data-tab="library">Library</button>
                        <button class="tab-btn" data-tab="project">Project</button>
                    </div>
        
                    <div class="legend-content">
                        <div id="properties-tab" class="tab-content active">
                            <div id="element-properties">
                                <div class="property-grid">
                                    <p class="placeholder">Select an element to edit properties...</p>
                                </div>
                            </div>
                        </div>
                        <div id="layers-tab" class="tab-content">
                            <div class="layer-controls">
                                <button id="add-layer-btn" class="small-btn" title="Add layer"><i class="fas fa-plus"></i></button>
                                <button id="remove-layer-btn" class="small-btn" title="Remove layer"><i class="fas fa-trash"></i></button>
                                <button id="move-layer-up" class="small-btn" title="Move layer up"><i class="fas fa-arrow-up"></i></button>
                                <button id="move-layer-down" class="small-btn" title="Move layer down"><i class="fas fa-arrow-down"></i></button>
                            </div>
                            <ul id="layer-visibility" class="layer-list"></ul>
                        </div>
                        <div id="library-tab" class="tab-content">rtrtre</div>
                        <div id="plugins-tab" class="tab-content">
                            <div id="plugin-container"></div>
                          </div>
                        <div id="project-tab" class="tab-content">
                            <div class="property-title">
                                <i class="fa-solid fa-image"></i> Main
                            </div>
                            <div class="property-grid">
                                <div class="property-row">
                                    <div class="property-name">Project Name</div>
                                    <div class="property-value">
                                        <label for="project-name" class="visually-hidden">Project Name</label>
                                        <input type="text" id="project-name" value="Untitled" placeholder="Enter project name">
                                    </div>
                                </div>
                                <div class="property-row">
                                    <div class="property-name">Description</div>
                                    <div class="property-value">
                                        <label for="project-description" class="visually-hidden">Project Description</label>
                                        <textarea id="project-description" placeholder="Enter project description"></textarea>
                                    </div>
                                </div>
                                <div class="property-row">
                                    <div class="property-name">Version</div>
                                    <div class="property-value">
                                        <input type="text" id="project-version" value="1.0" title="Project Version" placeholder="Enter project version">
                                    </div>
                                </div>
                                <div class="property-row">
                                    <div class="property-name">Author</div>
                                    <div class="property-value">
                                        <label for="project-author" class="visually-hidden">Author</label>
                                        <input type="text" id="project-author" placeholder="Enter author name">
                                    </div>
                                </div>
                                <div class="property-row">
                                    <div class="property-name">Created</div>
                                    <div class="property-value"><input type="text" id="project-created" readonly title="Project Created Date" placeholder="Created Date"></div>
                                </div>
                                <div class="property-row">
                                    <div class="property-name">Modified</div>
                                    <div class="property-value"><input type="text" id="project-modified" readonly title="Project Modified Date" placeholder="Modified Date"></div>
                                </div>
                            </div>
                            <div class="property-title">
                                <i class="fa-solid fa-tarp"></i> Map
                            </div>
                            <div class="property-grid">
                                <div class="property-row">
                                    <div class="property-name">Base Map</div>
                                    <div class="property-value">
                                        <div class="base-map-controls-wrapper">
                                            <div class="base-map-controls flex-one">
                                            <div class="select-wrapper">
                                                <label for="base-map-select" class="visually-hidden">Base Map</label>
                                                <select id="base-map-select">
                                                    <option value="blank">Empty</option>
                                                </select>
                                            </div>
                                            <input type="file" id="custom-map-input" accept=".svg" class="hidden-input" title="Upload a custom map file" placeholder="Choose a file">
                                        </div>
                                            <button id="load-custom-map" title="Upload svg file"><i class="fa-solid fa-folder-open"></i></button>
                                            <button id="edit-base-map" title="Upload svg code"><i class="fa-solid fa-code"></i></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="property-row">
                                    <div class="property-name">Map width</div>
                                    <div class="property-value">
                                        <div class="number-input">
                                            <input type="number" id="project-width" value="1883.42" step="1" title="Enter map width in pixels" placeholder="Map width">PX
                                        </div>
                                    </div>
                                </div>
                                <div class="property-row">
                                    <div class="property-name">Map height</div>
                                    <div class="property-value">
                                        <div class="number-input">
                                            <input type="number" id="project-height" value="1003.49" step="1" title="Enter map height in pixels" placeholder="Map height"> PX
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="property-title">
                                <i class="fa-solid fa-ruler-combined"></i> Scale
                            </div>
                            <div class="property-grid">
                                <div class="property-row">
                                    <div class="property-name">On map</div>
                                    <div class="property-value">
                                        <div class="number-input">
                                            <input type="number" id="scale-px" value="111" min="1" step="1" title="Enter scale in pixels" placeholder="Scale in pixels"> pixels
                                        </div>
                                    </div>
                                </div>
                                <div class="property-row">
                                    <div class="property-name">In reality</div>
                                    <div class="property-value">
                                        <div class="number-input">
                                            <input type="number" id="scale-meters" value="10" min="0.1" step="0.1" title="Enter scale in meters" placeholder="Scale in meters"> Meters
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        
                </div>
        
            </div>

            <div id="context-menu" class="context-menu"></div>

            <div id="error-dialog" class="modal" style="display:none;">
                <div class="modal-content">
                  <h3>Error</h3>
                  <p class="error-message"></p>
                  <pre class="error-stack"></pre>
                  <button class="close-button">Close</button>
                </div>
            </div>

            <input type="file" id="file-input" accept=".wmap" style="display:none;" title="Upload a map file" placeholder="Choose a map file">
        
        </div>
    </body>
</html>